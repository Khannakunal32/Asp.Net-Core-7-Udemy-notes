<h4>Introduction to Controllers</h4><blockquote><p>Controller is a class that is used to group-up a set of actions (<em>or action methods </em>).</p><p>Action methods do perform certain operation when a request is received &amp; returns the result (response).</p></blockquote><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2022-10-21_17-45-10-d86afecd66dd18a6f147c81b3975b8d4.png"></figure><p><br></p><h4><strong>Creating Controllers</strong></h4><p>Controllers should be either or both:</p><ul><li><p>The class name should be suffixed with "Controller". Eg: HomeController</p></li><li><p>The [Controller] attribute is applied to the same class or to its base class.</p><p><br></p></li></ul><p><strong>Controller</strong></p><pre class="prettyprint linenums">[Controller]
class ClassNameController
{
//action methods here
}</pre><p><br></p><p><strong>Optional:</strong></p><ul><li><p>Is a public class.</p></li><li><p>Inherited from Microsoft.AspNetCore.Mvc.Controller.</p></li></ul><p><br></p><p><br></p><h4><strong>Enable 'routing' in controllers</strong></h4><p><strong>AddControllers( )</strong></p><p><code>builder.Services.AddControllers();</code></p><p>Adds all controllers as services in the IServiceCollection.</p><p>So that, they can be accesed when a specific endpoint needs it.</p><p><br></p><p><strong>MapControllers()</strong></p><p><code>app.MapControllers();</code></p><p>Adds all action methods as endpoints.</p><p>So that, no need of using UseEndPoints() method for adding action methods as end points.</p><p><br></p><h4><strong>Responsibilities of Controllers</strong></h4><p><strong>Reading requests</strong></p><p>Extracting data values from request such as query string parameters, request body, request cookies, request headers etc.</p><p><br></p><p><strong>Invoking models</strong></p><p>Calling business logic methods.</p><p>Generally business operations are available as 'services'.</p><p><br></p><p><strong>Validation</strong></p><p>Validate incoming request details (query string parameters, request body, request cookies, request headers etc.)</p><p><br></p><p><strong>Preparing Response</strong></p><p>Choosing what kind of response has to be sent to the client &amp; also preparing the response (<em>action result </em>).</p><p><br></p><p><br></p><h4>ContentResult</h4><p>ContentResult can represent any type of response, based on the specified MIME type.</p><p>MIME type represents type of the content such as text/plain, text/html, application/json, application, xml, application/pdf etc.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2022-10-21_17-45-10-3c3fe63413a7d849e3834cdd801a2795.png"></figure><p><br></p><p><code>return new ContentResult() { Content = "content", ContentType = "content type" };</code></p><p>[or]</p><p><code>return Content("content", "content type");</code></p><p><br></p><p><br></p><h4>JsonResult</h4><p>JsonResult can represent an object in JavaScript Object Notation (JSON) format.</p><p>Eg: <code>{ "firstName": "James", "lastName": "Smith", "age": 25 }</code></p><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2022-10-21_17-45-11-26be6254b7b126dd5db44b86588a5a58.png"></figure><p><br></p><p><code>return new JsonResult(your_object);</code></p><p>[or]</p><p><code>return Json(your_object);</code></p><p><br></p><p><br></p><h4>File Results</h4><p>File result sends the content of a file as response.</p><p>Eg: pdf file, txt file, exe file, zip file etc.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2022-10-21_17-45-11-ae4396359428cc8c239b168bca2f6068.png"></figure><p><br></p><p><strong>VirtualFileResult</strong></p><p><code>return new VirtualFileResult("file relative path", "content type");</code></p><p>//or</p><p><code>return File("file relative path", "content type");</code></p><p>Represents a file within the WebRoot ('wwwroot' by default) folder.</p><p>Used when the file is present in the WebRoot folder.</p><p><br></p><p><strong>PhysicalFileResult</strong></p><p>Represents a file that is not necessarily part of the project folder.</p><p>Used when the file is present outside the WebRoot folder.</p><p><code>return new PhysicalFileResult("file absolute path", "content type");</code></p><p>//or</p><p><code>return PhysicalFile("file absolute path", "content type");</code></p><p><br></p><p><strong>FileContentResult</strong></p><p>Represents a file from the byte[ ].</p><p>Used when a part of the file or byte[ ] from other data source has to be sent as response.</p><p><code>return new FileContentResult(byte_array, "content type");</code></p><p>//or</p><p><code>return File(byte_array, "content type");</code></p><p><br></p><p><br></p><p><br></p><h4>IActionResult</h4><p>It is the parent interface for all action result classes such as ContentResult, JsonResult, RedirectResult, StatusCodeResult, ViewResult etc.</p><p>By mentioning the return type as IActionResult, you can return either of the subtypes of IActionResult</p><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2022-10-21_17-45-11-a430fe93cd995c1787d183347e723e09.png"></figure><p><br></p><p><br></p><h4>Status Code Results</h4><p>Status code result sends an empty response with specified status code.</p><p>Eg: 200, 400, 401, 404, 500 etc.</p><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2022-10-21_17-45-11-c90b10872de7481e71ab825f4d3facbb.png"></figure><p><br></p><p>StatusCodeResult</p><p>return new StatusCodeResult(status_code);</p><p><br></p><p>UnauthorizedResult</p><p>return new UnauthorizedResult();</p><p><br></p><p>BadRequestResult</p><p>return new BadRequestResult();</p><p><br></p><p>NotFoundResult</p><p>return new NotFoundResult();</p><p><br></p><p>StatusCodeResult</p><p>•Represents response with the specified status code.</p><p>•Used when you would like to send a specific HTTP status code as response.</p><p>return new StatusCodeResult(status_code);</p><p>//or</p><p>return StatusCode(status_code);</p><p><br></p><p>UnauthoriziedResult</p><p>•Represents response with HTTP status code '401 Unauthorized'.</p><p>•Used when the user is unauthorized (not signed in).</p><p>return new UnauthorizedResult();</p><p>//or</p><p>return Unauthorized();</p><p><br></p><p>BadRequestResult</p><p>•Represents response with HTTP status code '400 Bad Request'.</p><p>•Used when the request values are invalid (validation error).</p><p>return new BadRequestResult();</p><p>//or</p><p>return BadRequest();</p><p><br></p><p>NotFoundResult</p><p>•Represents response with HTTP status code '404 Not Found'.</p><p>•Used when the requested information is not available at server.</p><p>return new NotFoundResult();</p><p>//or</p><p>return NotFound();</p><p><br></p><h4>Redirect Results</h4><p>Redirect result sends either HTTP 302 or 301 response to the browser, in order to redirect to a specific action or url.</p><p>Eg: redirecting from 'action1' to 'action2'.</p><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2022-10-21_17-45-11-50e142d795e835e4118053d8ca5d9039.png"></figure><p><br></p><p>RedirectToActionResult</p><p>return new RedirectToActionResult("action", "controller", new { route_values }, permanent);</p><p><br></p><p>LocalRedirectResult</p><p>return new LocalRedirectResult("local_url", permanent);</p><p><br></p><p>RedirectResult</p><p>return new RedirectResult("url", permanent);</p><p><br></p><p><br></p><p><strong>RedirectToActionResult</strong></p><p>•Represents response for redirecting from the current action method to another action method, based on action name and controller name.</p><p>302 - Found</p><p>return new RedirectToActionResult("action", "controller", new { route_values });</p><p>//or</p><p>return RedirectToAction("action", "controller", new { route_values });</p><p>301 - Moved Permanently</p><p>return new RedirectToActionResult("action", "controller", new { route_values }, true);</p><p>//or</p><p>return RedirectToActionPermanent("action", "controller", new { route_values });</p><p><br></p><h4>LocalRedirectResult</h4><p>•Represents response for redirecting from the current action method to another action method, based on the specified url.</p><p><br></p><p>302 - Found</p><p>return new LocalRedirectResult("url");</p><p>//or</p><p>return LocalRedirect("url);</p><p><br></p><p>301 - Moved Permanently</p><p>return new LocalRedirectResult("url", true);</p><p>//or</p><p>return LocalRedirectPermanent("url");</p><p><br></p><p><br></p><h4>RedirectResult</h4><p>Represents response for redirecting from the current action method to any other url (either within the same web application or other web application).</p><p><br></p><p>302 - Found</p><p>return new RedirectResult("url");</p><p>//or</p><p>return Redirect("url);</p><p><br></p><p>301 - Moved Permanently</p><p>return new RedirectResult("url", true);</p><p>//or</p><p>return RedirectPermanent("url");</p>